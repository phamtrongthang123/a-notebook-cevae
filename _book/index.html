<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>A notebook Paper Causal Effect Inference with Deep Latent-Variable Models</title>
  <meta name="description" content="This is a notebook I write about CEVAE original paper." />
  <meta name="generator" content="bookdown 0.16 and GitBook 2.6.7" />

  <meta property="og:title" content="A notebook Paper Causal Effect Inference with Deep Latent-Variable Models" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a notebook I write about CEVAE original paper." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="A notebook Paper Causal Effect Inference with Deep Latent-Variable Models" />
  
  <meta name="twitter:description" content="This is a notebook I write about CEVAE original paper." />
  

<meta name="author" content="Trong-Thang Pham" />


<meta name="date" content="2020-04-12" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  

<link rel="next" href="intro.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />












<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Minimal Book Example</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Overview</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#keywords"><i class="fa fa-check"></i><b>1.1</b> Keywords</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#distinguishing-do-and-cond"><i class="fa fa-check"></i><b>1.2</b> Distinguishing do() and cond():</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>2</b> Introduction</a><ul>
<li class="chapter" data-level="2.1" data-path="intro.html"><a href="intro.html#abstract"><i class="fa fa-check"></i><b>2.1</b> Abstract</a></li>
<li class="chapter" data-level="2.2" data-path="intro.html"><a href="intro.html#old-study"><i class="fa fa-check"></i><b>2.2</b> Old study:</a></li>
<li class="chapter" data-level="2.3" data-path="intro.html"><a href="intro.html#propose"><i class="fa fa-check"></i><b>2.3</b> Propose</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="indentify.html"><a href="indentify.html"><i class="fa fa-check"></i><b>3</b> Identification of causal effect</a><ul>
<li class="chapter" data-level="3.1" data-path="indentify.html"><a href="indentify.html#identifying-individual-treatment-effect"><i class="fa fa-check"></i><b>3.1</b> Identifying individual treatment effect</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="CEVAE.html"><a href="CEVAE.html"><i class="fa fa-check"></i><b>4</b> Causal effect variational autoencoder</a></li>
<li class="chapter" data-level="5" data-path="exp.html"><a href="exp.html"><i class="fa fa-check"></i><b>5</b> Experiments</a><ul>
<li class="chapter" data-level="5.1" data-path="exp.html"><a href="exp.html#benchmark-dataset"><i class="fa fa-check"></i><b>5.1</b> Benchmark dataset</a><ul>
<li class="chapter" data-level="5.1.1" data-path="exp.html"><a href="exp.html#ihdp"><i class="fa fa-check"></i><b>5.1.1</b> IHDP</a></li>
<li class="chapter" data-level="5.1.2" data-path="exp.html"><a href="exp.html#jobs"><i class="fa fa-check"></i><b>5.1.2</b> Jobs:</a></li>
<li class="chapter" data-level="5.1.3" data-path="exp.html"><a href="exp.html#synthesis-toy-data"><i class="fa fa-check"></i><b>5.1.3</b> Synthesis toy data:</a></li>
<li class="chapter" data-level="5.1.4" data-path="exp.html"><a href="exp.html#binary-treatment-outcome-on-twins"><i class="fa fa-check"></i><b>5.1.4</b> Binary treatment outcome on Twins</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">A notebook Paper Causal Effect Inference with Deep Latent-Variable Models</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="header">
<h1 class="title">A notebook Paper Causal Effect Inference with Deep Latent-Variable Models</h1>
<p class="author"><em>Trong-Thang Pham</em></p>
<p class="date"><em>2020-04-12</em></p>
</div>
<div id="overview" class="section level1">
<h1><span class="header-section-number">Chapter 1</span> Overview</h1>
<p>This is a notebook I write about CEVAE original paper <span class="citation">(Louizos et al. <a href="#ref-louizos2017causal">2017</a>)</span>. Some grammar mistakes are going to be made.</p>
<p>The authors’ source code: <a href="https://github.com/AMLab-Amsterdam/CEVAE" class="uri">https://github.com/AMLab-Amsterdam/CEVAE</a></p>
<p>Here is some background knowledge that will help you to understand the whole paper.</p>
<div id="keywords" class="section level2">
<h2><span class="header-section-number">1.1</span> Keywords</h2>
<ul>
<li><strong>proxy, or proxy variable</strong>: is a variable that represents for confounders, indirectly help on finding causal effect of confounders.</li>
<li><strong>Recognition network</strong>: is the encoder of VAE, can also be called inference model</li>
<li><strong>Deep Latent-Variable Models (DLVM)</strong>: denote a LVM <span class="math inline">\(P_\theta(x,z)\)</span> whose distribution are parameterized by neural net</li>
<li><strong>Covariate</strong>: variable can predict the outcome</li>
<li><strong>Ignorability</strong>: outcome does not depend on missing data</li>
<li><a href="https://www.ctu.mrc.ac.uk/patients-public/about-clinical-trials/what-is-an-observational-study/"><strong>Observational study</strong></a>: They are called observational studies because the investigator observes individuals without manipulation or intervention.</li>
<li><strong>Randomised controlled trials (RCT), or Randomized trial</strong>: this trial require many people, then randomly split into 2 groups, investigators do intervene (give treatment in 1 group) and look at the effects of the intervention on an outcome.</li>
<li><strong>Within-sample</strong>: run experiment on train/val set</li>
<li><strong>Out-of-sample</strong>: run experiment on test set</li>
<li><strong>Causal inference</strong>: focus on effect of treatment on the outcome, even though we only know the result from 1 side (get treatment or not), this is factual results. In this paper, we care about produce a result from the other side, which is not real, we called it counterfactual. We do that by learning a generative model, then intervene the treatment variable and collect new results, those are our counterfactual results.</li>
<li>Treatment group: the group get the treatment, for example doing physical exercise.</li>
<li>Control group: the group don’t get the treatment, for example just sleep all day long.</li>
</ul>
</div>
<div id="distinguishing-do-and-cond" class="section level2">
<h2><span class="header-section-number">1.2</span> Distinguishing do() and cond():</h2>
<p>cond() is a notation I made up to stand for “is conditioned on”. For example, y is conditioned on x, then I call it y cond(x). Actually using y|x is more elegant but if we talking normally without the y, using | or |x is too short, in my opinion.</p>
<p>do() is represented for an action called <em>intervent</em>. Intervene is used to show causality. Says we only sure A cause B if and only if (iff) A is there, B behave this, but without A, B behave differently.</p>
<p>Counterfactual problem: In reality, each individual could only be in control or treatment group. When we talk about P(b|a), we are looking at if a=0 or a=1 in general view. We can’t be sure how it behave for each individual. That’s why we need to seek a new view to inference that individual effect. Intervene is an action change the treatment value (from treat to control, or vice versa) in order to observe how individual situation different from the origin treatment.</p>
<p>For example: Patient x didn’t get his treatment and died (for very long time ago). What is the outcome if he get his treatment? If we base on p(b|a) to answer, then it is just indirect way. The direct way is p(b|do(a)).</p>
<p>It’s sound pretty abstract because how can we intervene when it’ve already happened. We can’t in real life, but we can approximate that if we correcty model the causal effect of it. That’s why we have this study.</p>
<p>Anyway there is another view from how to compute do() and cond(). We compute p(b|a) when we sample both a and b, then cond(a). do(a) is when we fix value of a in the beginning, then sample b. Those two operations can have the same value, but not in all cases. Some aspect we can only discover iff we put do() on it.</p>

</div>
</div>
<h3>References</h3>
<div id="refs" class="references">
<div id="ref-louizos2017causal">
<p>Louizos, Christos, Uri Shalit, Joris Mooij, David Sontag, Richard Zemel, and Max Welling. 2017. “Causal Effect Inference with Deep Latent-Variable Models.” <a href="http://arxiv.org/abs/1705.08821">http://arxiv.org/abs/1705.08821</a>.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>

<a href="intro.html" class="navigation navigation-next navigation-unique" aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["notebookCEVAE.pdf", "notebookCEVAE.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
